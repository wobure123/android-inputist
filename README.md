# é€šç”¨è¾“å…¥æ”¹å†™åŠ©æ‰‹ V2.0

![App Logo](app/src/main/res/drawable/ic_launcher_foreground.xml)

## ğŸ“– é¡¹ç›®ç®€ä»‹

é€šç”¨è¾“å…¥æ”¹å†™åŠ©æ‰‹æ˜¯ä¸€æ¬¾åˆ›æ–°çš„Androidè¾“å…¥æ³•åº”ç”¨ï¼Œæ—¨åœ¨ä¸ºç”¨æˆ·æä¾›é«˜åº¦å¯å®šåˆ¶çš„æ–‡æœ¬å¤„ç†åŠŸèƒ½ã€‚é€šè¿‡é›†æˆLLM APIï¼Œç”¨æˆ·å¯ä»¥åœ¨ä»»ä½•åº”ç”¨çš„è¾“å…¥æ¡†ä¸­ä¸€é”®å®ç°æ–‡æœ¬ç¿»è¯‘ã€æ¶¦è‰²ã€æ€»ç»“ç­‰åŠŸèƒ½ã€‚

### ğŸŒŸ æ ¸å¿ƒç‰¹æ€§

- **ğŸ”§ è‡ªå®šä¹‰åŠŸèƒ½æŒ‰é’®**: ç”¨æˆ·å¯è‡ªç”±åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤åŠŸèƒ½æŒ‰é’®
- **ğŸ¤– è‡ªå®šä¹‰System Prompt**: æ¯ä¸ªæŒ‰é’®ç»‘å®šç‹¬ç‰¹çš„AIæŒ‡ä»¤
- **ğŸŒ é€šç”¨APIé›†æˆ**: æ”¯æŒä»»ä½•å…¼å®¹OpenAIæ ‡å‡†çš„LLM API
- **ğŸ”’ å®‰å…¨å­˜å‚¨**: é‡‡ç”¨Android EncryptedSharedPreferencesåŠ å¯†å­˜å‚¨
- **âš¡ é«˜æ€§èƒ½**: å¼‚æ­¥ç½‘ç»œè¯·æ±‚ï¼Œé¿å…ANRé—®é¢˜
- **ğŸ“± è·¨åº”ç”¨å…¼å®¹**: æ”¯æŒä»»ä½•æœ‰è¾“å…¥æ¡†çš„Androidåº”ç”¨

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### æŠ€æœ¯æ ˆ
- **å¼€å‘è¯­è¨€**: Java
- **æœ€å°SDK**: API 21 (Android 5.0)
- **ç›®æ ‡SDK**: API 34 (Android 14)
- **æ ¸å¿ƒåº“**: OkHttp3, Gson, Material Design Components

### æ ¸å¿ƒæ¨¡å—

```
com.inputist.universal/
â”œâ”€â”€ model/                    # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ Action.java          # åŠ¨ä½œæ•°æ®æ¨¡å‹
â”‚   â””â”€â”€ ApiConfig.java       # APIé…ç½®æ¨¡å‹
â”œâ”€â”€ repository/               # æ•°æ®ä»“åº“
â”‚   â””â”€â”€ SettingsRepository.java
â”œâ”€â”€ api/                     # ç½‘ç»œAPI
â”‚   â”œâ”€â”€ GenericLLMApiClient.java
â”‚   â””â”€â”€ model/               # APIæ•°æ®æ¨¡å‹
â”œâ”€â”€ ime/                     # è¾“å…¥æ³•æœåŠ¡
â”‚   â””â”€â”€ TranslateInputMethodService.java
â”œâ”€â”€ ui/                      # ç”¨æˆ·ç•Œé¢
â”‚   â”œâ”€â”€ MainActivity.java   # ä¸»ç•Œé¢/é…ç½®ä¸­å¿ƒ
â”‚   â”œâ”€â”€ ActionEditorActivity.java # åŠ¨ä½œç¼–è¾‘
â”‚   â”œâ”€â”€ GuideActivity.java   # ä½¿ç”¨æŒ‡å—
â”‚   â””â”€â”€ adapter/             # åˆ—è¡¨é€‚é…å™¨
â””â”€â”€ utils/                   # å·¥å…·ç±»
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Android Studio Flamingo æˆ–æ›´é«˜ç‰ˆæœ¬
- JDK 8 æˆ–æ›´é«˜ç‰ˆæœ¬
- Android SDK 34

### ç¼–è¯‘æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone https://github.com/your-repo/android-inputist.git
   cd android-inputist
   ```

2. **æ‰“å¼€é¡¹ç›®**
   ä½¿ç”¨Android Studioæ‰“å¼€é¡¹ç›®ç›®å½•

3. **åŒæ­¥Gradle**
   ç‚¹å‡»"Sync Now"åŒæ­¥Gradleä¾èµ–

4. **æ„å»ºAPK**
   ```bash
   ./gradlew assembleDebug
   ```

### å®‰è£…é…ç½®

1. **å®‰è£…APK**
   ```bash
   adb install app/build/outputs/apk/debug/app-debug.apk
   ```

2. **å¯ç”¨è¾“å…¥æ³•**
   - è¿›å…¥ç³»ç»Ÿè®¾ç½® â†’ è¯­è¨€å’Œè¾“å…¥æ³• â†’ è™šæ‹Ÿé”®ç›˜
   - å¯ç”¨"é€šç”¨è¾“å…¥æ”¹å†™åŠ©æ‰‹"

3. **é…ç½®API**
   - æ‰“å¼€åº”ç”¨ï¼Œåœ¨é…ç½®ä¸­å¿ƒå¡«å†™APIä¿¡æ¯
   - æµ‹è¯•APIè¿æ¥ç¡®ä¿é…ç½®æ­£ç¡®

4. **åˆ›å»ºåŠŸèƒ½**
   - ç‚¹å‡»"+"æŒ‰é’®æ·»åŠ è‡ªå®šä¹‰åŠŸèƒ½
   - è®¾ç½®åŠŸèƒ½åç§°å’Œå¯¹åº”çš„System Prompt

## ğŸ“± ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ä½¿ç”¨æµç¨‹

1. **åˆ‡æ¢è¾“å…¥æ³•**
   - åœ¨ä»»æ„è¾“å…¥æ¡†ä¸­é•¿æŒ‰ç©ºæ ¼é”®
   - é€‰æ‹©"é€šç”¨è¾“å…¥æ”¹å†™åŠ©æ‰‹"

2. **å¤„ç†æ–‡æœ¬**
   - åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥æˆ–ç²˜è´´æ–‡æœ¬
   - ç‚¹å‡»å¯¹åº”çš„åŠŸèƒ½æŒ‰é’®
   - ç­‰å¾…AIå¤„ç†å¹¶è‡ªåŠ¨æ›¿æ¢ç»“æœ

3. **æŸ¥çœ‹ç»“æœ**
   - å¤„ç†ç»“æœä¼šä»¥"åŸæ–‡ + --- + å¤„ç†ç»“æœ"çš„æ ¼å¼æ˜¾ç¤º
   - å¯ä»¥ç»§ç»­ç¼–è¾‘æˆ–ç›´æ¥å‘é€

### åŠŸèƒ½å®šåˆ¶

#### åˆ›å»ºç¿»è¯‘åŠŸèƒ½
- **åŠŸèƒ½åç§°**: ç¿»è¯‘æˆè‹±æ–‡
- **System Prompt**: "You are an expert translator. Please translate the user's text into fluent, natural English."

#### åˆ›å»ºæ¶¦è‰²åŠŸèƒ½
- **åŠŸèƒ½åç§°**: æ–‡æœ¬æ¶¦è‰²
- **System Prompt**: "ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„æ–‡æœ¬ç¼–è¾‘å¸ˆã€‚è¯·å¯¹ç”¨æˆ·æä¾›çš„æ–‡æœ¬è¿›è¡Œæ¶¦è‰²ï¼Œä½¿å…¶æ›´åŠ é€šé¡ºã€ä¼˜é›…ã€ä¸“ä¸šã€‚"

## ğŸ”§ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½

1. **æ‰©å±•APIå®¢æˆ·ç«¯**
   ```java
   // åœ¨GenericLLMApiClientä¸­æ·»åŠ æ–°çš„è¯·æ±‚æ–¹æ³•
   public void executeCustomRequest(...)
   ```

2. **æ›´æ–°æ•°æ®æ¨¡å‹**
   ```java
   // åœ¨Actionç±»ä¸­æ·»åŠ æ–°çš„å±æ€§
   private String customField;
   ```

3. **ä¿®æ”¹UIç•Œé¢**
   ```xml
   <!-- åœ¨ç›¸åº”çš„å¸ƒå±€æ–‡ä»¶ä¸­æ·»åŠ æ–°æ§ä»¶ -->
   ```

### æµ‹è¯•æŒ‡å—

#### å•å…ƒæµ‹è¯•
```bash
./gradlew test
```

#### é›†æˆæµ‹è¯•
```bash
./gradlew connectedAndroidTest
```

#### æ‰‹åŠ¨æµ‹è¯•æ¸…å•
- [ ] APIé…ç½®ä¿å­˜å’ŒåŠ è½½
- [ ] åŠŸèƒ½æŒ‰é’®åˆ›å»ºå’Œåˆ é™¤
- [ ] è¾“å…¥æ³•åˆ‡æ¢å’Œæ–‡æœ¬æ•è·
- [ ] ç½‘ç»œè¯·æ±‚å’Œé”™è¯¯å¤„ç†
- [ ] ä¸åŒè®¾å¤‡å…¼å®¹æ€§

## ğŸ› é—®é¢˜æ’æŸ¥

### å¸¸è§é—®é¢˜

**Q: è¾“å…¥æ³•æ— æ³•å¯ç”¨ï¼Ÿ**
A: æ£€æŸ¥ç³»ç»Ÿè®¾ç½®ä¸­æ˜¯å¦æ­£ç¡®å¯ç”¨äº†è¾“å…¥æ³•ï¼Œéƒ¨åˆ†è®¾å¤‡éœ€è¦é¢å¤–çš„æƒé™æˆäºˆã€‚

**Q: APIè¯·æ±‚å¤±è´¥ï¼Ÿ**
A: 
1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. éªŒè¯APIé…ç½®æ˜¯å¦æ­£ç¡®
3. ç¡®è®¤APIå¯†é’¥æœ‰æ•ˆ
4. æŸ¥çœ‹LogCatä¸­çš„è¯¦ç»†é”™è¯¯ä¿¡æ¯

**Q: åœ¨æŸäº›åº”ç”¨ä¸­æ— æ³•å·¥ä½œï¼Ÿ**
A: æŸäº›åº”ç”¨å¯èƒ½é™åˆ¶äº†ç¬¬ä¸‰æ–¹è¾“å…¥æ³•çš„åŠŸèƒ½ï¼Œè¿™æ˜¯Androidç³»ç»Ÿçš„å®‰å…¨æœºåˆ¶ã€‚

### è°ƒè¯•æ–¹æ³•

1. **æŸ¥çœ‹æ—¥å¿—**
   ```bash
   adb logcat | grep "TranslateIME\|GenericLLMApiClient"
   ```

2. **æ£€æŸ¥ç½‘ç»œ**
   ```bash
   adb shell ping 8.8.8.8
   ```

3. **éªŒè¯æƒé™**
   ```bash
   adb shell dumpsys input_method
   ```

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘è§„èŒƒ

1. **ä»£ç é£æ ¼**: éµå¾ªGoogle Java Style Guide
2. **æäº¤ä¿¡æ¯**: ä½¿ç”¨Conventional Commitsæ ¼å¼
3. **åˆ†æ”¯ç­–ç•¥**: GitFlowå·¥ä½œæµ

### æäº¤æµç¨‹

1. Forkæœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»ºPull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ“ è”ç³»æˆ‘ä»¬

- **é¡¹ç›®ä¸»é¡µ**: https://github.com/your-repo/android-inputist
- **é—®é¢˜åé¦ˆ**: https://github.com/your-repo/android-inputist/issues
- **é‚®ç®±**: your-email@example.com

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®çš„æ”¯æŒï¼š
- [OkHttp](https://square.github.io/okhttp/) - HTTPå®¢æˆ·ç«¯
- [Gson](https://github.com/google/gson) - JSONåºåˆ—åŒ–
- [Material Design Components](https://material.io/develop/android) - UIç»„ä»¶åº“

---

**å¼€å‘æ—¶é—´**: 2025å¹´6æœˆ24æ—¥  
**ç‰ˆæœ¬**: V2.0  
**çŠ¶æ€**: æ´»è·ƒå¼€å‘ä¸­ ğŸš€
