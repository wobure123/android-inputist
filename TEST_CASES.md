# 测试用例集合

## 📋 基础功能测试用例

### TC001: 应用安装和启动测试
**目标**: 验证应用能正确安装和启动
**步骤**:
1. 安装APK到设备
2. 点击应用图标启动
3. 检查主界面是否正常显示

**预期结果**: 
- 应用成功安装
- 主界面显示API配置和功能管理区域
- 无崩溃现象

**测试命令**:
```bash
adb install app/build/outputs/apk/debug/app-debug.apk
adb shell am start -n "com.inputist.universal/.ui.MainActivity"
```

### TC002: API配置测试
**目标**: 验证API配置功能
**步骤**:
1. 在主界面填写API配置
   - API地址: https://api.openai.com/
   - API密钥: 您的真实API密钥
   - 模型: gpt-3.5-turbo
2. 点击"测试配置"按钮
3. 点击"保存配置"按钮

**预期结果**:
- 配置能正确保存
- 测试连接成功（需要有效API密钥）
- 重启应用后配置保持

### TC003: 动作管理测试
**目标**: 验证动作创建、编辑、删除功能
**步骤**:
1. 点击"+"按钮创建新动作
2. 填写动作信息：
   - 名称: "测试翻译"
   - 系统指令: "请将用户输入翻译成英文"
3. 保存动作
4. 返回主界面查看动作列表
5. 编辑和删除动作

**预期结果**:
- 动作能正确创建和保存
- 列表正确显示动作信息
- 编辑和删除功能正常

### TC004: 输入法启用测试
**目标**: 验证输入法能正确启用
**步骤**:
1. 进入系统设置 → 语言和输入法 → 虚拟键盘
2. 启用"通用输入改写助手"
3. 在任意输入框长按切换输入法

**预期结果**:
- 输入法出现在可选列表中
- 能正确切换到自定义输入法
- 输入法界面正常显示

### TC005: 文本处理核心功能测试
**目标**: 验证完整的文本处理流程
**步骤**:
1. 切换到自定义输入法
2. 在输入框中输入测试文本: "Hello World"
3. 点击"测试翻译"按钮
4. 等待API处理结果

**预期结果**:
- 能正确读取输入框文本
- API请求成功发送
- 处理结果正确替换到输入框
- 结果格式为: "Hello World\n---\n你好世界"

## 🔬 详细测试用例

### 边界条件测试

**TC101: 空文本处理**
- 输入: 空字符串
- 预期: 显示"输入框为空"提示

**TC102: 长文本处理**
- 输入: 超过1000字符的文本
- 预期: 正常处理或适当截断

**TC103: 特殊字符处理**
- 输入: 包含emoji、特殊符号的文本
- 预期: 正确处理各种字符

### 错误处理测试

**TC201: 网络异常**
- 场景: 断开网络连接
- 预期: 显示网络错误提示

**TC202: API密钥错误**
- 场景: 使用无效API密钥
- 预期: 显示认证失败提示

**TC203: API服务异常**
- 场景: API服务返回错误
- 预期: 显示相应错误信息

### 兼容性测试

**TC301: 不同应用兼容性**
- 测试应用: 微信、QQ、浏览器、邮件
- 验证: 输入法在各应用中正常工作

**TC302: 不同设备兼容性**
- 测试设备: 小米、华为、三星、Google Pixel
- 验证: 在不同品牌设备上正常运行

## 🚀 快速验证脚本

### 基础功能验证（命令行版本）

```bash
#!/bin/bash
# 快速功能验证脚本

echo "🧪 开始基础功能验证..."

# 1. 检查应用是否安装
if adb shell pm list packages | grep -q "com.inputist.universal"; then
    echo "✅ 应用已安装"
else
    echo "❌ 应用未安装"
    exit 1
fi

# 2. 启动应用
echo "📱 启动应用..."
adb shell am start -n "com.inputist.universal/.ui.MainActivity"
sleep 3

# 3. 检查输入法是否可用
echo "🔍 检查输入法状态..."
if adb shell dumpsys input_method | grep -q "inputist"; then
    echo "✅ 输入法服务正常"
else
    echo "⚠️ 输入法可能未启用"
fi

# 4. 检查网络权限
echo "🌐 检查网络权限..."
if adb shell dumpsys package com.inputist.universal | grep -q "android.permission.INTERNET"; then
    echo "✅ 网络权限正常"
else
    echo "❌ 网络权限异常"
fi

echo "🎉 基础验证完成！"
```

## 📊 测试结果记录表

### 测试环境信息
- **测试日期**: _________
- **设备型号**: _________
- **Android版本**: _________
- **构建版本**: _________
- **API服务**: _________

### 测试结果
| 测试用例 | 状态 | 备注 |
|---------|------|------|
| TC001: 应用安装启动 | ⬜ | |
| TC002: API配置 | ⬜ | |
| TC003: 动作管理 | ⬜ | |
| TC004: 输入法启用 | ⬜ | |
| TC005: 文本处理 | ⬜ | |
| TC101: 空文本处理 | ⬜ | |
| TC201: 网络异常 | ⬜ | |
| TC301: 应用兼容性 | ⬜ | |

### 性能指标
- **应用启动时间**: ___秒
- **API响应时间**: ___秒
- **内存使用**: ___MB
- **APK大小**: ___MB

### 发现的问题
1. **问题描述**: ____________
   - **严重程度**: 🔴高 / 🟡中 / 🟢低
   - **复现步骤**: ____________
   - **解决方案**: ____________

## 🎯 推荐测试流程

### 第一轮：快速验证（15分钟）
1. 构建和安装应用
2. 测试基础界面功能
3. 验证输入法启用
4. 简单文本处理测试

### 第二轮：功能完整性（30分钟）
1. 完整API配置流程
2. 动作管理全功能测试
3. 多种文本处理场景
4. 错误处理验证

### 第三轮：兼容性和稳定性（60分钟）
1. 不同应用中的使用测试
2. 长时间运行稳定性
3. 各种边界条件测试
4. 性能和内存监控

---

**使用建议**: 根据您的时间安排选择合适的测试深度，建议至少完成第一轮快速验证。
